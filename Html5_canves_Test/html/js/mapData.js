//瓦片地图编辑器获取到的数据
var map={
    "data":[0, 1, 7, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 7, 0, 2, 8, 0, 0, 0, 0, 0, 0, 0, 0, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 7, 0, 8, 8, 0, 0, 14, 20, 20, 20, 8, 0, 18, 0, 6, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 7, 7, 0, 8, 8, 0, 0, 20, 20, 20, 20, 8, 0, 18, 0, 12, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 9, 9, 0, 0, 0, 0, 0, 20, 20, 20, 20, 8, 0, 18, 0, 12, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 9, 0, 15, 9, 9, 0, 4, 10, 10, 10, 0, 0, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 9, 0, 9, 9, 9, 0, 10, 10, 10, 10, 0, 0, 18, 18, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 9, 0, 9, 9, 9, 0, 14, 20, 20, 8, 8, 0, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 9, 9, 0, 9, 9, 9, 0, 20, 20, 20, 8, 8, 0, 18, 0, 15, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 9, 0, 0, 0, 0, 0, 20, 20, 20, 8, 8, 0, 18, 0, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18, 0, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18, 0, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 21, 21, 21, 0, 0, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    
    "height":30,
    "width":30
};
var properties =
{
    "0":
    {
        "bordercolor":"rgba(76, 181, 216, 1)",
        "color":"rgba(76, 181, 216, 0.2)",
        "height":"4",
        "imageurl":"image/Toilet.png",
        "textcolor":"black",
        "title":"Toilet",
        "width":"3",
        "x":"0",
        "y":"0"
    },
    "1":
    {
        "bordercolor":"rgba(230, 110, 250, 1)",
        "color":"rgba(230, 110, 250, 0.2)",
        "height":"3",
        "imageurl":"image/McDonald's.png",
        "textcolor":"black",
        "title":"MD",
        "width":"2",
        "x":"0",
        "y":"0"
    },
    "13":
    {
        "bordercolor":"rgba(220, 169, 105, 1)",
        "color":"rgba(220, 169, 105, 0.1)",
        "height":"3",
        "imageurl":"",
        "textcolor":"black",
        "title":" ",
        "width":"5",
        "x":"0",
        "y":"0"
    },
    "14":
    {
        "bordercolor":"rgba(230, 110, 250, 1)",
        "color":"rgba(230, 110, 250, 0.2)",
        "height":"5",
        "imageurl":"",
        "textcolor":"black",
        "title":"",
        "width":"3",
        "x":"",
        "y":""
    },
    "17":
    {
        "bordercolor":"rgba(190, 190, 190, 0.2)",
        "color":"rgba(190, 190, 190, 0.2)",
        "height":"1",
        "imageurl":"",
        "textcolor":"black",
        "title":"",
        "width":"1",
        "x":"",
        "y":""
    },
    "2":
    {
        "bordercolor":"rgba(230, 110, 250, 1)",
        "color":"rgba(230, 110, 250, 0.2)",
        "height":"4",
        "imageurl":"image/KFC.png",
        "textcolor":"black",
        "title":"KFC",
        "width":"3",
        "x":"0",
        "y":"257"
    },
    "3":
    {
        "bordercolor":"rgba(220, 169, 105, 1)",
        "color":"rgba(230, 110, 250, 0.2)",
        "height":"2",
        "imageurl":"image/Nike.png",
        "textcolor":"black",
        "title":"Nike",
        "width":"4",
        "x":"0",
        "y":"0"
    },
    "5":
    {
        "bordercolor":"rgba(76, 181, 216, 1)",
        "color":"rgba(76, 181, 216, 0.2)",
        "height":"3",
        "imageurl":"image/Elevator.png",
        "textcolor":"black",
        "title":"Elevator",
        "width":"5",
        "x":"",
        "y":""
    }
};

var mapData = new Array();
// 转化为二维数组
function mapDataTodyadicArray(){
    var indexX = 0;
    var indexY = 0;
    
    for (var i=0; i<map.width; i++){
        mapData[i]=new Array();  // 子数组
    }
    
    for (var i=0; i<map.data.length; i++){
        if (i%map.width==0&&i!=0){ // 换行
            indexX = 0; // 每次换行 x 从0 开始
            indexY ++;  // 每次换行 y + 1
        }else if(i!=0){
            indexX ++;
        }
        mapData[indexX][indexY]=map.data[i];
    }
}
// 初始化 数组
mapDataTodyadicArray();

// 获取属性
function getProperties(pId){
    for (var key in properties){
        if(pId == key){
            return properties[key];
        }
    }
    return "";
};